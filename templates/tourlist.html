<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TourGen | Destinations</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

<style>
body { background-color:#f4f7f6; }

.xyz .card{
transition:all .35s ease;
border-radius:18px;
min-height:460px;
overflow:hidden;
border:none;
background:#fff;
}

.xyz .card:hover{
transform:translateY(-10px);
box-shadow:0 20px 40px rgba(0,0,0,.2)!important;
}

.card-img-top{
border-radius:15px;
object-fit:cover;
height:240px;
}

.search-area{
margin-top:100px;
margin-bottom:50px;
}

.custom-search{
height:55px;
border-radius:50px;
padding-left:25px;
border:2px solid #ddd;
box-shadow:0 4px 12px rgba(0,0,0,.05);
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
<div class="container">

<a class="navbar-brand fw-bold" href="{{ url_for('home') }}"><i>TourGen</i></a>

<div class="collapse navbar-collapse">
<ul class="navbar-nav ms-auto">

<li class="nav-item">
<a class="nav-link" href="{{ url_for('home') }}">Home</a>
</li>

<li class="nav-item">
<a class="nav-link active text-danger" href="{{ url_for('tourlist') }}">Tours</a>
</li>

{% if session.get('user_id') %}
<li class="nav-item">
<a class="nav-link" href="{{ url_for('mybookings') }}"
>MyTour</a>
</li>
<li class="nav-item">
<a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
</li>
{% else %}
<li class="nav-item">
<a class="btn btn-primary ms-2" href="{{ url_for('login') }}">
<i class="bi bi-person me-2"></i>Login
</a>
</li>
{% endif %}

</ul>
</div>
</div>
</nav>

<!-- SEARCH -->
<div class="container search-area text-center">
<h2 class="fw-bold mb-4">Popular Destinations</h2>
<p class="text-muted mb-4">Handpicked experiences just for you</p>

<form method="GET" action="{{ url_for('tourlist') }}">
<div class="position-relative col-md-7 mx-auto">
<input type="text" name="search" value="{{ search }}"
class="form-control custom-search"
placeholder="Search (Himachal, Kerala, Goa...)">
</div>
</form>
</div>

<!-- TOURS -->
<div class="py-5 bg-light">
<div class="container">

<div class="row row-cols-1 row-cols-md-3 g-4">

{% if tours %}
{% for tour in tours %}

<div class="col xyz">
<div class="card shadow-sm">

<img src="{{ url_for('static', filename='image/goa.jpg') }}"
class="card-img-top">

<div class="card-body d-flex flex-column text-start">

<h3 class="h4 fw-bold">{{ tour.title }}</h3>
<p class="text-muted small flex-grow-1">{{ tour.description }}</p>

<div class="row border-top pt-3 text-center">
<div class="col">
<small class="text-muted">Price</small>
<strong>â‚¹{{ tour.price }}</strong>
</div>
</div>

<a href="{{ url_for('booking', tour_id=tour.id) }}"
class="btn btn-outline-primary mt-3 rounded-pill">
See More
</a>

</div>
</div>
</div>

{% endfor %}
{% else %}
<h4 class="text-center text-danger mt-5">No matching destinations found</h4>
{% endif %}

</div>
</div>
</div>

</body>
</html>
