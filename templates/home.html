<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TourGen | Discover India</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
function searchTour(e){
    e.preventDefault();
    let input=document.querySelector(".home-text-input input").value.trim();
    if(input!==""){
        window.location.href="{{ url_for('tourlist') }}?search="+encodeURIComponent(input);
    }
}
</script>
</head>

<body>

<!-- HERO SECTION -->
<div class="bg-image">

<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
<div class="container">
<a class="navbar-brand fw-bold" href="{{ url_for('home') }}"><i>TourGen</i></a>

<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
<span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse text-center" id="navMenu">
<ul class="navbar-nav ms-auto mb-2 mb-lg-0">

<li class="nav-item">
<a class="nav-link active text-danger" href="{{ url_for('home') }}">Home</a>
</li>

<li class="nav-item">
<a class="nav-link text-white" href="{{ url_for('home') }}#tour">Tours</a>
</li>

<li class="nav-item">
<a class="nav-link text-white" href="{{ url_for('login') }}">MyTour</a>
</li>

<li class="nav-item">
<a class="nav-link text-white" href="#footer">About</a>
</li>

<li class="nav-item ms-2">
{% if session.get('user_id') %}

<li class="nav-item">
<span class="navbar-text text-white me-3">
ðŸ‘‹ {{ session.username }}
</span>
</li>

<li class="nav-item">
<a class="btn btn-danger" href="{{ url_for('logout') }}">
Logout
</a>
</li>

{% else %}

<li class="nav-item">
<a class="btn btn-primary ms-2" href="{{ url_for('login') }}">
<i class="bi bi-person me-2"></i>Login
</a>
</li>

{% endif %}

</li>

</ul>
</div>
</div>
</nav>

<!-- CENTER TEXT -->
<div class="home_div container text-white">
<h1 class="display-3 fw-bold mb-4" style="text-shadow:2px 2px 10px rgba(0,0,0,0.6)">
Discover India's Beauty
</h1>

<form onsubmit="searchTour(event)" class="col-md-6 mx-auto">
<div class="home-text-input">
<input type="text" class="form-control shadow" placeholder="Where is your dream destination?">
</div>

<button type="submit" class="btn btn-primary btn-lg w-75 rounded-pill shadow">
<i class="bi bi-search me-2"></i>Find My Trip
</button>
</form>
</div>

</div>

<!-- POPULAR DESTINATIONS -->
<div id="tour" class="py-5 bg-light">
<div class="container text-center">

<h2 class="fw-bold mb-2">Popular Destinations</h2>
<p class="text-muted mb-5">Handpicked experiences just for you</p>

<div class="row row-cols-1 row-cols-md-3 g-4">

{% for tour in tours %}
<div class="col xyz">
<div class="card shadow-sm border-0">

<img src="{{ url_for('static', filename='image/goa.jpg') }}" class="card-img-top">

<div class="card-body text-start">
<h3 class="h4 fw-bold">{{ tour.title }}</h3>
<p class="text-muted small">{{ tour.description }}</p>

<p class="fw-bold">â‚¹{{ tour.price }}</p>

<a href="{{ url_for('booking', tour_id=tour.id) }}" class="btn btn-outline-primary rounded-pill">
See More
</a>

</div>
</div>
</div>
{% endfor %}

</div>

<div class="mt-5">
<a href="{{ url_for('tourlist') }}" class="btn btn-dark btn-lg px-5 rounded-pill shadow">
View All Packages <i class="bi bi-arrow-right ms-2"></i>
</a>
</div>

</div>
</div>

<!-- FOOTER -->
<footer class="bg-dark text-light pt-4 mt-5" id="footer">
<div class="container text-center">
<h5>TourGen</h5>
<p>Budget friendly customized tour packages across India.</p>
<p>Â© 2026 TourGen</p>
</div>
</footer>

</body>
</html>
